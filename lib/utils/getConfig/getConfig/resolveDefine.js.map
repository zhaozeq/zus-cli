{"version":3,"sources":["../../../../src/utils/getConfig/getConfig/resolveDefine.js"],"names":["prefixRE","opts","env","Object","keys","process","forEach","key","test","JSON","stringify","define"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA,IAAMA,QAAQ,GAAG,WAAjB;;AAEe,kBAASC,IAAT,EAAe;AAC5B,MAAMC,GAAG,GAAG,EAAZ;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYC,OAAO,CAACH,GAApB,EAAyBI,OAAzB,CAAiC,UAAAC,GAAG,EAAI;AACtC,QAAIP,QAAQ,CAACQ,IAAT,CAAcD,GAAd,KAAsBA,GAAG,KAAK,UAA9B,IAA4CA,GAAG,KAAK,KAApD,IAA6DA,GAAG,KAAK,eAAzE,EAA0F;AACxFL,MAAAA,GAAG,CAACK,GAAD,CAAH,GAAWF,OAAO,CAACH,GAAR,CAAYK,GAAZ,CAAX;AACD;AACF,GAJD;;AAMA,OAAK,IAAMA,GAAX,IAAkBL,GAAlB,EAAuB;AACrBA,IAAAA,GAAG,CAACK,GAAD,CAAH,GAAWE,IAAI,CAACC,SAAL,CAAeR,GAAG,CAACK,GAAD,CAAlB,CAAX;AACD;;AAED,MAAMI,MAAM,GAAG,EAAf;;AACA,MAAIV,IAAI,CAACU,MAAT,EAAiB;AACf,SAAK,IAAMJ,IAAX,IAAkBN,IAAI,CAACU,MAAvB,EAA+B;AAC7BA,MAAAA,MAAM,CAACJ,IAAD,CAAN,GAAcE,IAAI,CAACC,SAAL,CAAeT,IAAI,CAACU,MAAL,CAAYJ,IAAZ,CAAf,CAAd;AACD;AACF;;AAED;AACE,mBAAeL;AADjB,KAEKS,MAFL;AAID","sourcesContent":["/* eslint-disable guard-for-in */\nconst prefixRE = /^UMI_APP_/;\n\nexport default function(opts) {\n  const env = {};\n  Object.keys(process.env).forEach(key => {\n    if (prefixRE.test(key) || key === 'NODE_ENV' || key === 'HMR' || key === 'SOCKET_SERVER') {\n      env[key] = process.env[key];\n    }\n  });\n\n  for (const key in env) {\n    env[key] = JSON.stringify(env[key]);\n  }\n\n  const define = {};\n  if (opts.define) {\n    for (const key in opts.define) {\n      define[key] = JSON.stringify(opts.define[key]);\n    }\n  }\n\n  return {\n    'process.env': env,\n    ...define,\n  };\n}\n"],"file":"resolveDefine.js"}