{"version":3,"sources":["../../../src/utils/webpack/patchConnection.js"],"names":["el","showLoading","document","createElement","style","position","left","top","width","background","zIndex","color","textAlign","fontSize","fontFamily","padding","boxShadow","innerHTML","body","appendChild","hideLoading","parentNode","removeChild","connectServer","onSuccess","count","console","log","window","retry","fetch","location","href","then","setTimeout"],"mappings":";;;;;;;;;AAAA;AAEA,IAAIA,EAAE,GAAG,IAAT;;AAEO,SAASC,WAAT,GAAuB;AAC5BD,EAAAA,EAAE,GAAGE,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAL;AACAH,EAAAA,EAAE,CAACI,KAAH,CAASC,QAAT,GAAoB,UAApB;AACAL,EAAAA,EAAE,CAACI,KAAH,CAASE,IAAT,GAAgB,CAAhB;AACAN,EAAAA,EAAE,CAACI,KAAH,CAASG,GAAT,GAAe,CAAf;AACAP,EAAAA,EAAE,CAACI,KAAH,CAASI,KAAT,GAAiB,MAAjB;AACAR,EAAAA,EAAE,CAACI,KAAH,CAASK,UAAT,GAAsB,SAAtB;AACAT,EAAAA,EAAE,CAACI,KAAH,CAASM,MAAT,GAAkB,gBAAlB;AACAV,EAAAA,EAAE,CAACI,KAAH,CAASO,KAAT,GAAiB,SAAjB;AACAX,EAAAA,EAAE,CAACI,KAAH,CAASQ,SAAT,GAAqB,QAArB;AACAZ,EAAAA,EAAE,CAACI,KAAH,CAASS,QAAT,GAAoB,MAApB;AACAb,EAAAA,EAAE,CAACI,KAAH,CAASU,UAAT,GAAsB,qCAAtB;AACAd,EAAAA,EAAE,CAACI,KAAH,CAASW,OAAT,GAAmB,OAAnB;AACAf,EAAAA,EAAE,CAACI,KAAH,CAASY,SAAT,GAAqB,gCAArB;AACAhB,EAAAA,EAAE,CAACiB,SAAH,GAAe,yDAAf;AACAf,EAAAA,QAAQ,CAACgB,IAAT,CAAcC,WAAd,CAA0BnB,EAA1B;AACD;;AAEM,SAASoB,WAAT,GAAuB;AAC5BpB,EAAAA,EAAE,CAACqB,UAAH,CAAcC,WAAd,CAA0BtB,EAA1B;AACD;;AAEM,SAASuB,aAAT,CAAuBC,SAAvB,EAAkC;AACvC,MAAIC,KAAK,GAAG,CAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ,EAAoB,SAApB;;AACA,WAASC,KAAT,GAAiB;AACf,QAAI,EAAEJ,KAAF,GAAU,EAAd,EAAkB;AAChBzB,MAAAA,EAAE,CAACiB,SAAH,GAAe,kCAAf;AACA;AACD;;AAEDa,IAAAA,KAAK,CAACF,MAAM,CAACG,QAAP,CAAgBC,IAAjB,CAAL,CACGC,IADH,CACQT,SADR,WAES,YAAM;AACXU,MAAAA,UAAU,CAACL,KAAD,EAAQ,IAAR,CAAV;AACD,KAJH;AAKD;;AAEDA,EAAAA,KAAK;AACN","sourcesContent":["/* eslint-disable */\n\nlet el = null\n\nexport function showLoading() {\n  el = document.createElement('div')\n  el.style.position = 'absolute'\n  el.style.left = 0\n  el.style.top = 0\n  el.style.width = '100%'\n  el.style.background = '#fff1b8'\n  el.style.zIndex = 2147483647000000\n  el.style.color = '#613400'\n  el.style.textAlign = 'center'\n  el.style.fontSize = '18px'\n  el.style.fontFamily = 'Consolas, Menlo, Courier, monospace'\n  el.style.padding = '8px 0'\n  el.style.boxShadow = '0px 4px 8px rgba(0, 0, 0, 0.1)'\n  el.innerHTML = 'Disconnected from the devServer, trying to reconnect...'\n  document.body.appendChild(el)\n}\n\nexport function hideLoading() {\n  el.parentNode.removeChild(el)\n}\n\nexport function connectServer(onSuccess) {\n  let count = 0\n  console.log(window, 'window1')\n  function retry() {\n    if (++count > 20) {\n      el.innerHTML = 'Disconnected from the devServer.'\n      return\n    }\n\n    fetch(window.location.href)\n      .then(onSuccess)\n      .catch(() => {\n        setTimeout(retry, 1000)\n      })\n  }\n\n  retry()\n}\n"],"file":"patchConnection.js"}